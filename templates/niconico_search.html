{% extends 'base.html' %}

{% block customcss %}
{% endblock customcss %}

{% block header %}
<!-- <div class="alert alert-primary" role="alert">
    niconico
</div> -->
{% endblock header %}

{% block content %}

<h1>niconico検索</h1>

<div id="search"> <!-- 最初は表示、マイリストに追加するときは非表示 -->
<form method="POST">
  {% csrf_token %}
  {{ form }}
  <button type="submit">検索</button>
</form>

<!-- 検索結果 -->
{% for i in result %}
  <!-- 新規タブで開く -->
  <a href="{{ i.url }}" target="_blank" rel="noopener noreferrer">
    {{ i.title }}<br>
    <img src="{{ i.thumbnail }}" /><br>
  </a>
  <p>再生回数:{{ i.viewCounter }}回</p>
{% endfor %}
</div>

<div id="select_video"> <!-- 最初は非表示、マイリストに追加するときは表示 -->
  <p>マイリストに追加する動画を選択</p>
  <form method="POST">
    {% csrf_token %}
    <!-- 検索結果 -->
    {% for i in result %}
      <!-- チェックボックス -->
      <input class="recipe-btn" type="checkbox" name="video" id="{{ i.url }}" value="{{ i }}">
      {{ i.title }}<br>
      <img src="{{ i.thumbnail }}" /><br>
    {% endfor %}
    <br>
    <input class="btn btn-outline-success" type="submit" value="マイリストに追加">
  </form>
</div>

<p class="btn btn-link" onclick="clickBtn1()">選択</p>
<p class="btn btn-link" onclick="clickBtn2()">戻す</p>
{% endblock content %}